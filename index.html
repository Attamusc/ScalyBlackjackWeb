
<!DOCTYPE html>
<html>
<head>
    <title>SBW Casino - Where the cool go to play</title>
    <meta content="All the fun of blackjack, with all the style of Lift" name="description">
    <link href="http://twitter.github.com/bootstrap/1.3.0/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Actor">
    <link href="stylesheets/style.css" rel="stylesheet">
</head>
<body>
  <div id="container">
    <div id="casino_floor">
      <div id="table_section"></div>
    </div>
    <div id="table_dash_board">
      <div class="container">
        <div class="span2 dash_section">
          <p>Min bet: <b id="table_a_min_bet">50</b></p>
        </div>
        <div class="span8 dash_section"> 
          <input class="btn primary" value="Hit" type="button">
          <input class="btn primary" value="Stand" type="button">
          <input class="btn primary" value="Split" type="button">
          <input class="btn primary" value="Double Down" type="button">
          <input class="btn primary" value="Insurance" type="button">
        </div>
        <div class="span2 dash_section"><p>Hand total: <b id="player-hand-total">20</b></p></div> 
        <div class="span2 dash_section"><a data-keyboard="true" data-backdrop="true" data-controls-modal="trade_in_cash_modal" class="cash_out_button btn primary" href="index.html">Cash Out</a></div>
    </div>

    <div id="basic_strategy_pane">
      <div id="basic_strategy_handle"><span>Strategy:</span></div>
      <div id="basic_strategy_table_wrapper">
        <table class="zebra-striped">
          <thead>
            <tr>
              <th>    </th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>A</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><b>8</b></td>
              <td>H</td>
              <td>H</td>
              <td>H</td>
              <td>H</td>
              <td>H</td>
              <td>H</td>
              <td>H</td>
              <td>H</td>
              <td>H</td>
              <td>H</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div id="table_info_pane">
      <div id="table_info_handle">
        <span>Info:</span>
      </div>
      <div id="table_info_content_wrapper">
        <div class="page-header">
          <h3>Table A</h3>
        </div>
        <ul class="content_box unstyled">
          <li>
            Number of Players: <em>3</em>
          </li>
          <li>
            Number of Open Seats: <em>2</em>
          </li>
          <li>
            Total Hands Dealt: <em>42</em>
          </li>
          <li>
            Average Bet: <em>$75</em>
          </li>
          <li>
            Name of Dealer: <em>Jose</em>
          </li>
          <li>
            Started: <em>10/22/11 4:25am</em>
          </li>
        </ul>
        <div class="content_box">
          <h4>Share this table</h4>
          <p></p><div data-font="lucida grande" data-show-faces="false" data-width="450" data-layout="button_count" data-send="false" class="fb-like"></div><p></p>
          <p><a data-count="none" data-text="SBW Casino - All the fun of blackjack, with all the style of Lift." class="twitter-share-button" href="https://twitter.com/share">Tweet</a></p>
        </div>
      </div>
    </div>
  </div>

  <script>
    var CASINO = {
      views: {},
      models: {}
    };
  </script>
  <script src="javascripts/jquery-1.7.1.min.js"></script>
  <script src="javascripts/twitter_modal_plugin.js"></script>
  <script src="javascripts/twitter_twipsy.js"></script>
  <script src="javascripts/twitter_popover.js"></script>
  <!-- <script src="//platform.twitter.com/widgets.js"></script> -->
  <script src="javascripts/common.js"></script>
  <script src="javascripts/json2.js"></script>
  <script src="javascripts/underscore-1.1.6.js"></script>
  <script src="javascripts/backbone.js"></script>
  <script src="javascripts/player.js"></script>
  <script src="javascripts/table.js"></script>
  <script src="javascripts/card.js"></script>
  <script src="javascripts/seat.js"></script>
  <script src="javascripts/attendant.js"></script>
  
  
<script>
   $(document).ready(function() {
      var i,  // loop counter
          len, // number of iterations
          main_table, players, deck, card;

      deck = (function () {
         
         var suits = ['red', 'black'],
             values = [2, 3, 4, 5, 6, 7, 8, 9, 10, 'J', 'Q', 'K', 'A'];

         return {
            draw: function () { 
               return new CASINO.models.Card({ 
                          suit: suits[Math.floor(Math.random() * suits.length)],
                          value: values[Math.floor(Math.random() * values.length)] 
               });
            }
         };
      }());


      main_table = new CASINO.models.Table({ id: 1, chips_to_cash_ratio: 1/200 });
      CASINO.main_table = new CASINO.views.MainTableView({
         el: $('#table_section'), model: main_table
      });
      CASINO.main_table.render();

      // add some players
      players = [
         new CASINO.models.User({ dealer: true, id: 0, a_real_boy: false, client_user: false, name: 'Greg', chips: 20000000, avatar: 'http://placekitten.com/g/45/45' }),
         new CASINO.models.User({ id: 1, a_real_boy: true, client_user: true, name: 'Joey', chips: 20000, avatar: 'http://placekitten.com/40/40' }),
         new CASINO.models.User({ id: 2, a_real_boy: true, client_user: false, name: 'Sean', chips: 40000, avatar: 'http://placekitten.com/65/65' }),
         new CASINO.models.User({ id: 3, a_real_boy: true, client_user: false, name: 'Neal', chips: 15000, avatar: 'http://placekitten.com/g/60/60' }),
         new CASINO.models.User({ id: 4, a_real_boy: false, client_user: false, name: 'Jon', chips: 1000, avatar: 'http://placekitten.com/80/80' }),
         new CASINO.models.User({ id: 5, a_real_boy: false, client_user: false, name: 'Ron', chips: 10000000, avatar: 'http://placekitten.com/g/70/70' })
      ];

      main_table.players.add(players);

      // give cards to the players
      for (i = 0, len = players.length * 2; i < len; i += 1) {
         card = deck.draw(); // draw a card
         if (i == 0) {
            card.set({ visible: false });
         }
         main_table.dealCard( card, players[i % players.length].get('id') );
      }

      // player popover
      (function () {
         $('#table_section').delegate('.player_seat', 'mouseover', function (e) {
            var el = $(this);
            el.twipsy({});
            el.twipsy('show');
         });
      }());

      // side panels
      $('#basic_strategy_handle, #table_info_handle').click(function(e) {
          $(this).parent().toggleClass('show');
      });
   });
</script>


<!-- Templates -->
  <script type="text/template" id="card-template">
    <span class="card_value"><%= value %></span>
    <% if (!visible) { %>
      <img src="images/back_small.png" />
    <% } %>
  </script>

  <script type="text/template" id="hand-template">
  </script>

  <script type="text/template" id="main-player-seat-template">
    <div class="seat <%= dealer ? 'dealer_seat' : ('seat_' + position) %> <%= empty ? 'empty_seat' : 'player_seat' %>" 
              data-placement="below" 
      title="<%= player ? player.get('name') + ' (' + (player.get('a_real_boy') ? 'Human' : 'Bot') + ') ' + player.get('chips') + ' chips' : 'Empty' %>">

      <% if (empty) { %>
        Empty
      <% } else if(player && player.get('avatar')) { %>
        <img src="<%= player.get('avatar') %>" alt="<%= player.get('name') %> avatar"/>
      <% } else { %>
        <%= player.get('name') %>
      <% } %>
    </div>
  </script>

  <script type="text/template" id="main-table-template">
    <div id="main_table_wrapper">
      <div class="table_seats_wrapper"></div>
      <div class="house_table player_cards_wrapper"></div>
    </div>
  </script>

</body>
</html>  
  
