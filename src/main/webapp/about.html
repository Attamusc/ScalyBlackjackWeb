<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <title>About</title>
  </head>
  <body class="lift:content_id=main">
    <div id="main" class="lift:surround?with=default;at=content">
        <lift:bind-at name="extra-js">
    		<script>
    		     $(document).ready(function() {
    		         $('#bet-button').click(function(e) {    		             
     		             $.post("/api/bj/bet",
     		                {   
     		                    tid: $(this).data('tid'), 
     		                    pid: $(this).data('pid'),
     		                    amount: $("#bet-amount").val()
     		                },
     		                function(data) {
     		                    $("#bet-amount").val("");
     		                    console.log(data);
     		                });
     		         });
     		         
    		         $('.player-button').click(function(e) {    		             
    		             $.post("/api/bj/" + $(this).data('action'),
    		                {   
    		                    tid: $(this).data('tid'), 
    		                    pid: $(this).data('pid')
    		                },
    		                function(data) {
    		                    console.log(data);
    		                });
    		         });
    		         
    		         // Throwaway code for testing stuff...
    		         $('#start-house').click(function(e) {
    		             $.get("/api/bj/start",
    		                   function(data) {
    		                       console.log(data);
    		                   }
    		             );
    		         });
    		         $('#clear-house').click(function(e) {
     		             $.get("/api/bj/clear",
     		                   function(data) {
     		                       console.log(data);
     		                   }
     		             );
     		         });
    		    });
    		</script>
    	</lift:bind-at>
    	<span class="lift:TableUtils.setTableSessionId"></span>
	    <span class="lift:TableUtils.genTableDispatcher"></span>
	    <!--
	    <lift:comet type="Dispatcher">
	    <div style="width:75%;margin-left:auto;margin-right:auto;margin-bottom:50px;"> 
            <h2>Blackjack Table Message Dump</h2>
            <ul id="about_messages">
              <li>Message...</li>
              <li class="clearable">Another message</li>
              <li class="clearable">A third message</li>
            </ul>
        </div>
        </lift:comet>
        -->
        <div id="table_dash_board">
	        <div class="container">
	          <div class="span9 dash_section">
	              <button class="btn player-button" data-pid="0" data-tid="0" data-action="hit">Hit</button>
                  <button class="btn player-button" data-pid="0" data-tid="0" data-action="stay">Stay</button>
                  <button class="btn player-button" data-pid="0" data-tid="0" data-action="double_down">Double Down</button>
                  <button class="btn player-button" data-pid="0" data-tid="0" data-action="split">Split</button>
                  <button class="btn player-button" data-pid="0" data-tid="0" data-action="surrender">Surrender</button>
                  <button class="btn player-button" data-pid="0" data-tid="0" data-action="insurance">Insurance</button>
	          </div>
	          <div class="span3 dash_section">
  	              <input id="bet-amount" name="amount" value="" />
                  <button id="bet-button" class="btn" data-pid="1" data-tid="1">Bet</button>
  	          </div>
  	          <div class="span3 dash_section">
  	             <button id="start-house" class="btn">Start</button>
  	             <button id="clear-house" class="btn">Clear</button>
  	          </div>
	        </div>
	      </div>
    </div>
  </body>
</html>
